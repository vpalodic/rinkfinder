(function(c,a,b){c.endpoints={updateRecord:"/server/endpoint",newRecord:"/server/endpoint"};c.account={};c.profile={};c.params={};c.isArenaManager=false;c.isApplicationAdministrator=false;c.isSystemAdministrator=false;c.roleList=[];c.statusList=[];c.stateList=[];c.attribute={name:"",oldVal:"",newVal:""};c.Id=0;c.Name="";c.onReady=function(){if(typeof a.fn.editable==="undefined"){c.loadEditable()}else{c.enableEditable()}var d=a("#userAccountProfileView.panel.panel-primary");if(d.length>0){d.on("destroyed",function(){var e=a("#userAccountProfileView.panel.panel-primary .editable");e.editable("destroy")})}c.setupPassword()};c.loadEditable=function(){var e=utilities.debug?"bootstrap-editable.js":"bootstrap-editable.min.js";a.ajax({url:utilities.urls.assets+(utilities.debug?"/bootstrap-editable/js/bootstrap-editable.js":"/bootstrap-editable/js/bootstrap-editable.min.js"),dataType:"script",cache:true,success:function(){console.log("Loaded: "+e)},error:function(h,f,g){utilities.ajaxError.show("Error","Failed to retrieve javsScript file",h,f,g)}});var d=setInterval(function(){if(typeof typeof a.fn.editable!=="undefined"){clearInterval(d);c.enableEditable()}else{if(console&&console.log){console.log("Loading... "+e)}}},500)};c.enableEditable=function(){c.setupUsername();c.setupEmail();c.setupStatus();c.setupFirstName();c.setupLastName();c.setupAddressLine1();c.setupAddressLine2();c.setupCity();c.setupState();c.setupZip();c.setupPhone();c.setupExtension();c.setupBirthday();a('[data-toggle="tooltip"]').tooltip()};c.setupFirstName=function(){a("#first_name").editable({params:c.params})};c.setupLastName=function(){a("#last_name").editable({params:c.params})};c.setupAddressLine1=function(){a("#address_line1").editable({params:c.params})};c.setupAddressLine2=function(){a("#address_line2").editable({params:c.params})};c.setupCity=function(){a("#city").editable({params:c.params})};c.setupState=function(){a("#state").editable({params:c.params,showbuttons:false,source:c.stateList})};c.setupZip=function(){a("#zip").editable({params:c.params})};c.setupPhone=function(){a("#phone").editable({params:c.params,display:function(f,e){var d="";if(typeof f==="undefined"||f.length<=0){return}d=f.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");a(this).html(d)}});a("#phone").on("shown",function(f,d){if(d){a(this).data("editable").input.$input.inputmask({mask:"(999) 999-9999",clearIncomplete:false,autoUnmask:true,showTooltip:true})}})};c.setupExtension=function(){a("#ext").editable({params:c.params})};c.setupBirthday=function(){a("#birth_day").editable({params:c.params,datepicker:{autoclose:true,cleanBtn:true,endDate:moment().subtract("years",13).endOf("day").toDate(),startDate:moment().subtract("years",115).startOf("day").toDate(),startView:"decade",todayBtn:false,todayHighlight:false}})};c.setupUsername=function(){a("#username").editable({params:c.params})};c.setupEmail=function(){a("#email").editable({params:c.params})};c.setupPassword=function(){a("#password").on("click",function(h){h.preventDefault();var g=a(this);var f=g.attr("href");var d=utilities.modal.add("Change Password","",false,false,true);d.modal({loading:true,replace:false,modalOverflow:true});a.ajax({url:f,type:"GET",dataType:"html",data:{output:"html"},success:function(e,i,k){var l=false;try{l=JSON.parse(e)}catch(j){l=false}if(l!==false){window.setTimeout(function(){d.modal("loading");d.find(".modal-body").empty().append('<h1 class="text-error">Error</h1>');utilities.ajaxError.show("User Account Profile","Failed to retrieve data",k,"error","Login Required")},1000);return}window.setTimeout(function(){var m=a(e).find("#content");d.find(".modal-body").empty().append(m.html());d.modal("loading")},1000)},error:function(j,e,i){window.setTimeout(function(){d.modal("loading");d.find(".modal-body").empty().append('<h1 class="text-error">Error</h1>');utilities.ajaxError.show("User Account Profile","Failed to retrieve data",j,e,i)},1000)}})})};c.setupStatus=function(){if(c.isArenaManager!==1){return}a("#status_id").editable({params:c.params,showbuttons:false,source:c.statusList})};c.setupRole=function(){if(c.isArenaManager!==1){return}a("#status_id").editable({params:c.params,showbuttons:false,source:c.statusList})}}(window.userAccountProfile=window.userAccountProfile||{},jQuery));