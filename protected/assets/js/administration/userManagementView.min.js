(function(c,a,b){c.endpoints={manager:{viewRecord:"/server/endpoint",updateRecord:"/server/endpoint",newRecord:"/server/endpoint",deleteRecord:"/server/endpoint",assignRecord:"/server/ednpoint"}};c.newRecord=false;c.manager={};c.arenas=[];c.params={};c.isArenaManager=false;c.isApplicationAdministrator=false;c.isSystemAdministrator=false;c.roleList=[];c.statusList=[];c.stateList=[];c.Id=0;c.Name="";c.onReady=function(){if(typeof a.fn.editable==="undefined"){c.loadEditable()}else{c.setupInitialManagerView()}var d=a("#userAdministrationView.panel.panel-primary");if(d.length>0){d.on("destroyed",function(){var e=a("#userAdministrationView.panel.panel-primary .editable");e.editable("destroy")})}a('[data-toggle="tooltip"]').tooltip()};c.loadEditable=function(){var e=utilities.debug?"bootstrap-editable.js":"bootstrap-editable.min.js";a.ajax({url:utilities.urls.assets+(utilities.debug?"/bootstrap-editable/js/bootstrap-editable.js":"/bootstrap-editable/js/bootstrap-editable.min.js"),dataType:"script",cache:true,success:function(){console.log("Loaded: "+e)},error:function(h,f,g){utilities.ajaxError.show("Error","Failed to retrieve javsScript file",h,f,g)}});var d=setInterval(function(){if(typeof typeof a.fn.editable!=="undefined"){clearInterval(d);c.setupInitialManagerView()}else{if(console&&console.log){console.log("Loading... "+e)}}},500)};c.setupInitialManagerView=function(){var j=this;var f=a("#assignManagerButton");var m=a("#unassignManagerButton");var l=a("#newManagerButton");var e=a("#deleteManagerButton");var g=a("#saveManagerButton");var h=a("#cancelManagerButton");var d=a("#availableManagersMSelect");var i=a("#assignedManagersMSelect");var k=a("#assignedManagersSelect");f.attr("disabled","disabled");m.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled").hide();h.attr("disabled","disabled").hide();d.on("change",function(o){var n=d.find("option:selected");if(n.length>0){f.removeAttr("disabled")}else{f.attr("disabled","disabled")}});i.on("change",function(o){var n=i.find("option:selected");if(n.length>0){m.removeAttr("disabled")}else{m.attr("disabled","disabled")}});k.on("change",function(p){var n=k.find("option:selected");if(n.length>0){var o=a(this).val();j.resetManagerView();if(o=="none"){c.resetArenaLists();return}j.loadManager(o)}else{j.resetManagerView()}});f.on("click",function(r){r.preventDefault();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';var p=d.find("option:selected");var q=k.val();if(q==="none"||q<=0){return}var o=[];p.each(function(){o.push(a(this).val())});if(o.length<=0){return}f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");f.parent().prepend(s);var n={name:"assign",aids:o,id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.manager.updateRecord,data:n,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.removeAttr("disabled");i.removeAttr("disabled");f.removeAttr("disabled");f.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to assign the manager",w,"error","Login Required")},1000);return}p.each(function(){i.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");k.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");a(this).remove()});d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");f.parent().find("#loading").remove()},error:function(v,t,u){d.removeAttr("disabled");i.removeAttr("disabled");f.removeAttr("disabled");f.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to assign the manager",v,t,u)}})});m.on("click",function(r){r.preventDefault();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';var p=i.find("option:selected");var q=k.val();if(q==="none"||q<=0){return}var o=[];p.each(function(){o.push(a(this).val())});if(o.length<=0){return}f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");m.parent().prepend(s);var n={name:"unassign",aids:o,id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.manager.updateRecord,data:n,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.removeAttr("disabled");i.removeAttr("disabled");m.removeAttr("disabled");m.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to unassign the manager",w,"error","Login Required")},1000);return}p.each(function(){d.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");var y=k.find('option[value="'+a(this).val()+'"]');if(k.val()==y.val()){k.val("none");y.remove();k.trigger("change")}else{y.remove()}a(this).remove()});d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");m.parent().find("#loading").remove()},error:function(v,t,u){d.removeAttr("disabled");i.removeAttr("disabled");m.removeAttr("disabled");m.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to unassign the manager",v,t,u)}})});l.on("click",function(o){o.preventDefault();k.attr("disabled","disabled");k.val("none");c.resetArenaLists();var n={get_available:1,get_assigned:1,output:"html"};c.setupNewManagerView(n);l.attr("disabled","disabled");e.attr("disabled","disabled")});e.on("click",function(o){o.preventDefault();var n=c.createDeleteModal();n.modal({loading:false,replace:false,modalOverflow:false});a("button#yes").on("click",function(r){var q=k.val();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");k.attr("disabled","disabled");l.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled").hide();h.attr("disabled","disabled").hide();e.parent().prepend(s);var p={id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.manager.deleteRecord,data:p,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to delete the manager",w,"error","Login Required")},1000);return}i.find('option[value="'+q+'"]').remove();k.find('option[value="'+q+'"]').remove();k.val("none").trigger("change");d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove()},error:function(v,t,u){d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to delete the manager",v,t,u)}})})});g.on("click",function(n){n.preventDefault();var o='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");k.attr("disabled","disabled");l.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled");h.attr("disabled","disabled");g.parent().prepend(o);a(".manager-editable").editable("submit",{url:c.endpoints.manager.newRecord,ajaxOptions:{dataType:"json"},success:function(u,q){d.removeAttr("disabled");i.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(i.val()>0){m.removeAttr("disabled")}g.removeAttr("disabled");h.removeAttr("disabled");g.parent().find("#loading").remove();if(u&&u.id){a(this).editable("option","pk",u.id);a(this).removeClass("editable-unsaved");var t=a("#Manager_active, #Manager_last_name, #Manager_first_name, #Manager_email").editable("getValue");var v=(t.active==0)?"Inactive":"Active";var s=t.last_name+", "+t.first_name+" - "+t.email+" ("+v+")";var r='<option value="'+u.id+'">'+s+"</option>";k.append(r);k.val(u.id);g.attr("disabled","disabled").hide(250);h.attr("disabled","disabled").hide(250);k.removeAttr("disabled");l.removeAttr("disabled");e.removeAttr("disabled");var p='<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><h3><span class="badge badge-success">New manager added!</span></h3></div>';a("#managerDetails").prepend(p);c.resetArenaLists();if(u.availableArenas!=="undefined"){c.loadArenaList(d,u.availableArenas)}if(u.assignedArenas!=="undefined"){c.loadArenaList(i,u.assignedArenas)}}else{if(u&&u.errors){q.error.call(this,u.errors)}else{if(u&&u.error){q.error.call(this,u.error)}}}},error:function(s){d.removeAttr("disabled");i.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(i.val()>0){m.removeAttr("disabled")}g.removeAttr("disabled");h.removeAttr("disabled");g.parent().find("#loading").remove();var r="";if(s&&s.responseText){r=s.responseText;utilities.ajaxError.show("Error","Failed to add the new manager",s,"error","Unknown")}else{try{if(s){s=JSON.parse(s)}a.each(s,function(u,t){r+=t+"<br>"})}catch(q){s=false}}var p='<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">&times;</button><h3><span class="badge badge-important">Please correct the following errors:</span></h3>'+r+"</div>";a("#managerDetails").prepend(p)}})});h.on("click",function(n){n.preventDefault();c.resetManagerView();c.resetArenaLists()});if(c.manager.id!=="undefined"){c.setupManagerView(c.manager,c.params)}else{l.trigger("click")}};c.setupManagerEditables=function(d){a("#Manager_first_name").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Manager_active, #Manager_last_name, #Manager_email").editable("getValue");var l=a("#assignedManagersSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=h.last_name+", "+j+" - "+h.email+" ("+i+")";g.text(f)}});a("#Manager_last_name").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Manager_active, #Manager_first_name, #Manager_email").editable("getValue");var l=a("#assignedManagersSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=j+", "+h.first_name+" - "+h.email+" ("+i+")";g.text(f)}});a("#Manager_active").editable({params:d,showbuttons:false,source:[{value:0,text:"Inactive"},{value:1,text:"Active"}],success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Manager_first_name, #Manager_last_name, #Manager_email").editable("getValue");var l=a("#assignedManagersSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(j==0)?"Inactive":"Active";var f=h.last_name+", "+h.first_name+" - "+h.email+" ("+i+")";g.text(f)}});a("#Manager_email").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Manager_active, #Manager_first_name, #Manager_last_name").editable("getValue");var l=a("#assignedManagersSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=h.last_name+", "+h.first_name+" - "+j+" ("+i+")";g.text(f)}});a("#Manager_phone").editable({params:d,display:function(g,f){var e="";if(typeof g==="undefined"||g.length<=0){return}e=String(g).replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");a(this).html(e)}});a("#Manager_phone").on("shown",function(g,f){if(f){a(this).data("editable").input.$input.inputmask({mask:"(999) 999-9999",clearIncomplete:false,autoUnmask:true,showTooltip:true})}});a("#Manager_ext").editable({params:d});a("#Manager_fax").editable({params:d,display:function(g,f){var e="";if(typeof g==="undefined"||g.length<=0){return}e=String(g).replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");a(this).html(e)}});a("#Manager_fax").on("shown",function(g,f){if(f){a(this).data("editable").input.$input.inputmask({mask:"(999) 999-9999",clearIncomplete:false,autoUnmask:true,showTooltip:true})}});a("#Manager_fax_ext").editable({params:d})};c.setupManagerView=function(f,h){var e=a("#managerDetails");var i=a(".manager-editable");a("#Manager_phone").off("shown");a("#Manager_fax").off("shown");if(i.length>0){i.each(function(){a(this).editable("destroy")})}var g='<strong>Details</strong><br /><table class="table table-condensed table-information"><tbody>';g+='<tr><td style="width:33%">First Name</td><td><a href="#" id="Manager_first_name" data-name="first_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+f.first_name+'" title="First Name" class="manager-editable">'+f.first_name+"</a></td></tr>";g+='<tr><td style="width:33%">Last Name</td><td><a href="#" id="Manager_last_name" data-name="last_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+f.last_name+'" title="Last Name" class="manager-editable">'+f.last_name+"</a></td></tr>";g+='<tr><td style="width:33%">Active</td><td><a href="#" id="Manager_active" data-name="active" data-type="select" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+f.active+'" title="Manager Status" class="manager-editable">';if(f.active==1){g+="Active</a></td></tr>"}else{g+="Inactive</a></td></tr>"}g+="</tbody></table>";g+='<strong>Email & Phone</strong><br /><table class="table table-condensed table-information"><tbody>';g+='<tr><td style="width:33%">E-mail</td><td><a href="#" id="Manager_email" data-name="email" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+f.email+'" title="E-mail Address" class="manager-editable">'+f.email+"</a></td></tr>";g+='<tr><td style="width:33%">Phone</td><td><a href="#" id="Manager_phone" data-name="phone" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+f.phone+'" title="Ten digit phone number" class="manager-editable">'+f.phone+"</a></td></tr>";g+='<tr><td style="width:33%">Extension</td><td><a href="#" id="Manager_ext" data-name="ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+(f.ext?f.ext:"")+'" title="Phone extension" class="manager-editable">'+(f.ext?f.ext:"")+"</a></td></tr>";g+='<tr><td style="width:33%">Fax</td><td><a href="#" id="Manager_fax" data-name="fax" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+(f.fax?f.fax:"")+'" title="Ten digit fax number" class="manager-editable">'+(f.fax?f.fax:"")+"</a></td></tr>";g+='<tr><td style="width:33%">Fax Extension</td><td><a href="#" id="Manager_fax_ext" data-name="fax_ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-pk="'+f.id+'" data-value="'+(f.fax_ext?f.fax_ext:"")+'" title="Fax extension" class="manager-editable">'+(f.fax_ext?f.fax_ext:"")+"</a></td></tr></tbody></table>";var d=a('<div id="managerDetails">'+g+"</div>");d.hide();e.fadeOut(500,function(){e.parent().prepend(d);c.setupManagerEditables(h);d.fadeIn(500,function(){var k=a("#assignManagerButton");var m=a("#unassignManagerButton");var j=a("#newManagerButton");var n=a("#deleteManagerButton");var o=a("#availableManagersMSelect");var l=a("#assignedManagersMSelect");var p=a("#assignedManagersSelect");o.removeAttr("disabled");l.removeAttr("disabled");p.removeAttr("disabled");j.removeAttr("disabled");n.removeAttr("disabled");if(o.val()>0){k.removeAttr("disabled")}if(l.val()>0){m.removeAttr("disabled")}p.parent().find("#loading").remove();e.remove()})})};c.setupNewManagerView=function(g){var e=a("#managerDetails");var h=a(".manager-editable");a("#Manager_phone").off("shown");a("#Manager_fax").off("shown");if(h.length>0){h.each(function(){a(this).editable("destroy")})}var f='<strong>Details</strong><br /><table class="table table-condensed table-information"><tbody>';f+='<tr><td style="width:33%">First Name</td><td><a href="#" id="Manager_first_name" data-name="first_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="First Name" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Last Name</td><td><a href="#" id="Manager_last_name" data-name="last_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="Last Name" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Active</td><td><a href="#" id="Manager_active" data-name="active" data-type="select" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-value="1"title="Manager Status" class="manager-editable">Active</a></td></tr>';f+="</tbody></table>";f+='<strong>Email & Phone</strong><br /><table class="table table-condensed table-information"><tbody>';f+='<tr><td style="width:33%">E-mail</td><td><a href="#" id="Manager_email" data-name="email" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="E-mail Address" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Phone</td><td><a href="#" id="Manager_phone" data-name="phone" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="Ten digit phone number" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Extension</td><td><a href="#" id="Manager_ext" data-name="ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="Phone extension" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Fax</td><td><a href="#" id="Manager_fax" data-name="fax" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="Ten digit fax number" class="manager-editable"></a></td></tr>';f+='<tr><td style="width:33%">Fax Extension</td><td><a href="#" id="Manager_fax_ext" data-name="fax_ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" title="Fax extension" class="manager-editable"></a></td></tr>';f+='<tr style="display:none;"><td>Output</td><td><a href="#" id="Manager_output" data-name="output" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-value="json" title="Output" class="manager-editable">json</a></td></tr>';f+='<tr style="display:none;"><td>Get Available</td><td><a href="#" id="Manager_get_available" data-name="get_available" data-type="text" data-mode="inline" data-url="'+c.endpoints.manager.updateRecord+'" data-value="1" title="Get Available" class="manager-editable">json</a></td></tr>';f+="</tbody></table>";var d=a('<div id="managerDetails">'+f+"</div>");d.hide();e.fadeOut(500,function(){e.parent().prepend(d);c.setupManagerEditables(g);a("#Manager_get_available").editable({params:g});a("#Manager_output").editable({params:g});d.fadeIn(500,function(){var i=a("#assignManagerButton");var l=a("#unassignManagerButton");var m=a("#saveManagerButton");var j=a("#cancelManagerButton");var n=a("#availableManagersMSelect");var k=a("#assignedManagersMSelect");n.removeAttr("disabled");k.removeAttr("disabled");m.removeAttr("disabled").show(250);j.removeAttr("disabled").show(250);if(n.val()>0){i.removeAttr("disabled")}if(k.val()>0){l.removeAttr("disabled")}e.remove()})})};c.loadArenaList=function(d,f){if(f==="undefined"||f.length==="undefined"||f.length<=0){return}for(var e=0;e<f.length;e++){var h=f[e].id;var g=f[e].name+", "+f[e].city+", "+f[e].state+" "+f[e].zip+" ("+f[e].status+")";d.append('<option value="'+h+'">'+g+"</option>")}};c.resetArenaLists=function(){var d=a("#assignManagerButton");var f=a("#unassignManagerButton");var g=a("#availableManagersMSelect");var e=a("#assignedManagersMSelect");g.val("");g.empty();d.attr("disabled","disabled");e.val("");e.empty();f.attr("disabled","disabled")};c.resetManagerView=function(){var e=a("#managerDetails");var j=a(".manager-editable");var d=a("#newManagerButton");var g=a("#deleteManagerButton");var h=a("#saveManagerButton");var f=a("#cancelManagerButton");var i=a("#assignedManagersSelect");d.attr("disabled","disabled");g.attr("disabled","disabled");h.attr("disabled","disabled").hide();f.attr("disabled","disabled").hide();a("#Manager_phone").off("shown");a("#Manager_fax").off("shown");if(j.length>0){j.each(function(){a(this).editable("destroy")})}e.fadeOut(500,function(){e.empty();e.fadeIn(500,function(){d.removeAttr("disabled");i.removeAttr("disabled")})})};c.loadManager=function(m){var f=a("#assignManagerButton");var n=a("#unassignManagerButton");var l=a("#newManagerButton");var e=a("#deleteManagerButton");var g=a("#saveManagerButton");var h=a("#cancelManagerButton");var d=a("#availableManagersMSelect");var j=a("#assignedManagersMSelect");var k=a("#assignedManagersSelect");var o='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';f.attr("disabled","disabled");n.attr("disabled","disabled");l.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled").hide();h.attr("disabled","disabled").hide();d.attr("disabled","disabled");j.attr("disabled","disabled");k.attr("disabled","disabled");k.parent().append(o);var i={id:m,get_available:1,get_assigned:1,output:"json"};a.ajax({url:c.endpoints.manager.viewRecord,data:i,type:"GET",dataType:"json",success:function(p,q,r){if(p.error&&p.error==="LOGIN_REQUIRED"){window.setTimeout(function(){d.removeAttr("disabled");j.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(j.val()>0){n.removeAttr("disabled")}k.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to load the manager",r,"error","Login Required")},1000);return}i.output="html";if(p.data&&p.data.id!=="undefined"){c.setupManagerView(p.data,i);c.resetArenaLists();if(p.availableArenas!=="undefined"){c.loadArenaList(d,p.availableArenas)}if(p.assignedArenas!=="undefined"){c.loadArenaList(j,p.assignedArenas)}}},error:function(r,p,q){d.removeAttr("disabled");j.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(j.val()>0){n.removeAttr("disabled")}k.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to load the manager",r,p,q)}})};c.createDeleteModal=function(){var e='<div id="deleteModal" class="well"><h3>Are you sure you want to permanently delete this item?</h3><p class="lead text-error">This operation cannot be undone and will also delete this item from any related items. For example, deleting a location / venue will also delete any events associated with that location / venue.</p></div>';var d='<button class="btn btn-large btn-danger" data-dismiss="modal" type="button" aria-hidden="true" id="yes"><i class="fa fa-fw fa-lg fa-check"></i> Yes</button><button class="btn btn-large" data-dismiss="modal" type="button" aria-hidden="true" id="close"><i class="fa fa-fw fa-lg fa-times"></i> No</button>';return utilities.modal.add("Confirm Action",e,d,false,false)}}(window.userAdministrationView=window.userAdministrationView||{},jQuery));