(function(c,a,b){c.endpoints={contact:{viewRecord:"/server/endpoint",updateRecord:"/server/endpoint",newRecord:"/server/endpoint",deleteRecord:"/server/endpoint"}};c.contact={};c.params={};c.isArenaManager=false;c.statusList=[];c.stateList=[];c.Id=0;c.Name="";c.onReady=function(){if(typeof a.fn.editable==="undefined"){c.loadEditable()}else{c.setupInitialContactView()}var d=a("#contactManagementView.panel.panel-primary");if(d.length>0){d.on("destroyed",function(){var e=a("#contactManagementView.panel.panel-primary .editable");e.editable("destroy")})}a('[data-toggle="tooltip"]').tooltip()};c.loadEditable=function(){var e=utilities.debug?"bootstrap-editable.js":"bootstrap-editable.min.js";a.ajax({url:utilities.urls.assets+(utilities.debug?"/bootstrap-editable/js/bootstrap-editable.js":"/bootstrap-editable/js/bootstrap-editable.min.js"),dataType:"script",cache:true,success:function(){console.log("Loaded: "+e)},error:function(h,f,g){utilities.ajaxError.show("Error","Failed to retrieve javsScript file",h,f,g)}});var d=setInterval(function(){if(typeof typeof a.fn.editable!=="undefined"){clearInterval(d);c.setupInitialContactView()}else{if(console&&console.log){console.log("Loading... "+e)}}},500)};c.setupInitialContactView=function(){var j=this;var f=a("#assignContactButton");var m=a("#unassignContactButton");var l=a("#newContactButton");var e=a("#deleteContactButton");var g=a("#saveContactButton");var h=a("#cancelContactButton");var d=a("#availableContactsMSelect");var i=a("#assignedContactsMSelect");var k=a("#assignedContactsSelect");f.attr("disabled","disabled");m.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled").hide();h.attr("disabled","disabled").hide();d.on("change",function(o){var n=d.find("option:selected");if(n.length>0){f.removeAttr("disabled")}else{f.attr("disabled","disabled")}});i.on("change",function(o){var n=i.find("option:selected");if(n.length>0){m.removeAttr("disabled")}else{m.attr("disabled","disabled")}});k.on("change",function(p){var n=k.find("option:selected");if(n.length>0){var o=a(this).val();j.resetContactView();if(o=="none"){c.resetArenaLists();return}j.loadContact(o)}else{j.resetContactView()}});f.on("click",function(r){r.preventDefault();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';var p=d.find("option:selected");var q=k.val();if(q==="none"||q<=0){return}var o=[];p.each(function(){o.push(a(this).val())});if(o.length<=0){return}f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");f.parent().prepend(s);var n={name:"assign",aids:o,id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.contact.updateRecord,data:n,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.removeAttr("disabled");i.removeAttr("disabled");f.removeAttr("disabled");f.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to assign the contact",w,"error","Login Required")},1000);return}p.each(function(){i.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");k.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");a(this).remove()});d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");f.parent().find("#loading").remove()},error:function(v,t,u){d.removeAttr("disabled");i.removeAttr("disabled");f.removeAttr("disabled");f.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to assign the contact",v,t,u)}})});m.on("click",function(r){r.preventDefault();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';var p=i.find("option:selected");var q=k.val();if(q==="none"||q<=0){return}var o=[];p.each(function(){o.push(a(this).val())});if(o.length<=0){return}f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");m.parent().prepend(s);var n={name:"unassign",aids:o,id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.contact.updateRecord,data:n,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.removeAttr("disabled");i.removeAttr("disabled");m.removeAttr("disabled");m.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to unassign the contact",w,"error","Login Required")},1000);return}p.each(function(){d.append('<option value="'+a(this).val()+'">'+a(this).text()+"</option>");var y=k.find('option[value="'+a(this).val()+'"]');if(k.val()==y.val()){k.val("none");y.remove();k.trigger("change")}else{y.remove()}a(this).remove()});d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");m.parent().find("#loading").remove()},error:function(v,t,u){d.removeAttr("disabled");i.removeAttr("disabled");m.removeAttr("disabled");m.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to unassign the contact",v,t,u)}})});l.on("click",function(o){o.preventDefault();k.attr("disabled","disabled");k.val("none");c.resetArenaLists();var n={get_available:1,get_assigned:1,output:"html"};c.setupNewContactView(n);l.attr("disabled","disabled");e.attr("disabled","disabled")});e.on("click",function(o){o.preventDefault();var n=c.createDeleteModal();n.modal({loading:false,replace:false,modalOverflow:false});a("button#yes").on("click",function(r){var q=k.val();var s='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");k.attr("disabled","disabled");l.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled").hide();h.attr("disabled","disabled").hide();e.parent().prepend(s);var p={id:q,pk:q,output:"html"};a.ajax({url:c.endpoints.contact.deleteRecord,data:p,type:"POST",dataType:"html",success:function(t,u,w){var x=false;try{x=JSON.parse(t)}catch(v){x=false}if(x!==false){window.setTimeout(function(){d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to delete the contact",w,"error","Login Required")},1000);return}i.find('option[value="'+q+'"]').remove();k.find('option[value="'+q+'"]').remove();k.val("none").trigger("change");d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove()},error:function(v,t,u){d.val("");i.val("");d.removeAttr("disabled");i.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");e.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to delete the contact",v,t,u)}})})});g.on("click",function(n){n.preventDefault();var o='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';f.attr("disabled","disabled");m.attr("disabled","disabled");d.attr("disabled","disabled");i.attr("disabled","disabled");k.attr("disabled","disabled");l.attr("disabled","disabled");e.attr("disabled","disabled");g.attr("disabled","disabled");h.attr("disabled","disabled");g.parent().prepend(o);a(".contact-editable").editable("submit",{url:c.endpoints.contact.newRecord,ajaxOptions:{dataType:"json"},success:function(u,q){d.removeAttr("disabled");i.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(i.val()>0){m.removeAttr("disabled")}g.removeAttr("disabled");h.removeAttr("disabled");g.parent().find("#loading").remove();if(u&&u.id){a(this).editable("option","pk",u.id);a(this).removeClass("editable-unsaved");var t=a("#Contact_active, #Contact_last_name, #Contact_first_name, #Contact_email").editable("getValue");var v=(t.active==0)?"Inactive":"Active";var s=t.last_name+", "+t.first_name+" - "+t.email+" ("+v+")";var r='<option value="'+u.id+'">'+s+"</option>";k.append(r);k.val(u.id);g.attr("disabled","disabled").hide(250);h.attr("disabled","disabled").hide(250);k.removeAttr("disabled");l.removeAttr("disabled");e.removeAttr("disabled");var p='<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><h3><span class="badge badge-success">New contact added!</span></h3></div>';a("#contactDetails").prepend(p);c.resetArenaLists();if(u.availableArenas!=="undefined"){c.loadArenaList(d,u.availableArenas)}if(u.assignedArenas!=="undefined"){c.loadArenaList(i,u.assignedArenas)}}else{if(u&&u.errors){q.error.call(this,u.errors)}else{if(u&&u.error){q.error.call(this,u.error)}}}},error:function(s){d.removeAttr("disabled");i.removeAttr("disabled");if(d.val()>0){f.removeAttr("disabled")}if(i.val()>0){m.removeAttr("disabled")}g.removeAttr("disabled");h.removeAttr("disabled");g.parent().find("#loading").remove();var r="";if(s&&s.responseText){r=s.responseText;utilities.ajaxError.show("Error","Failed to add the new contact",s,"error","Unknown")}else{try{if(s){s=JSON.parse(s)}a.each(s,function(u,t){r+=t+"<br>"})}catch(q){s=false}}var p='<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">&times;</button><h3><span class="badge badge-important">Please correct the following errors:</span></h3>'+r+"</div>";a("#contactDetails").prepend(p)}})});h.on("click",function(n){n.preventDefault();c.resetContactView();c.resetArenaLists()});if(c.contact.id!=="undefined"){c.setupContactView(c.contact,c.params)}else{l.trigger("click")}};c.setupContactEditables=function(d){a("#Contact_first_name").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Contact_active, #Contact_last_name, #Contact_email").editable("getValue");var l=a("#assignedContactsSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=h.last_name+", "+j+" - "+h.email+" ("+i+")";g.text(f)}});a("#Contact_last_name").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Contact_active, #Contact_first_name, #Contact_email").editable("getValue");var l=a("#assignedContactsSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=j+", "+h.first_name+" - "+h.email+" ("+i+")";g.text(f)}});a("#Contact_active").editable({params:d,showbuttons:false,source:[{value:0,text:"Inactive"},{value:1,text:"Active"}],success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Contact_first_name, #Contact_last_name, #Contact_email").editable("getValue");var l=a("#assignedContactsSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(j==0)?"Inactive":"Active";var f=h.last_name+", "+h.first_name+" - "+h.email+" ("+i+")";g.text(f)}});a("#Contact_email").editable({params:d,success:function(e,j){if(e&&e.length>0){return"Data not saved. Please refresh the page as it appears the session has expired."}var h=a("#Contact_active, #Contact_first_name, #Contact_last_name").editable("getValue");var l=a("#assignedContactsSelect");var k=l.val();if(k=="none"){return}var g=l.find('option[value="'+k+'"]');var i=(h.active==0)?"Inactive":"Active";var f=h.last_name+", "+h.first_name+" - "+j+" ("+i+")";g.text(f)}});a("#Contact_phone").editable({params:d,display:function(g,f){var e="";if(typeof g==="undefined"||g.length<=0){return}e=String(g).replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");a(this).html(e)}});a("#Contact_phone").on("shown",function(g,f){if(f){a(this).data("editable").input.$input.inputmask({mask:"(999) 999-9999",clearIncomplete:false,autoUnmask:true,showTooltip:true})}});a("#Contact_ext").editable({params:d});a("#Contact_fax").editable({params:d,display:function(g,f){var e="";if(typeof g==="undefined"||g.length<=0){return}e=String(g).replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");a(this).html(e)}});a("#Contact_fax").on("shown",function(g,f){if(f){a(this).data("editable").input.$input.inputmask({mask:"(999) 999-9999",clearIncomplete:false,autoUnmask:true,showTooltip:true})}});a("#Contact_fax_ext").editable({params:d})};c.setupContactView=function(d,i){var f=a("#contactDetails");var g=a(".contact-editable");a("#Contact_phone").off("shown");a("#Contact_fax").off("shown");if(g.length>0){g.each(function(){a(this).editable("destroy")})}var h='<strong>Details</strong><br /><table class="table table-condensed table-information"><tbody>';h+='<tr><td style="width:33%">First Name</td><td><a href="#" id="Contact_first_name" data-name="first_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+d.first_name+'" title="First Name" class="contact-editable">'+d.first_name+"</a></td></tr>";h+='<tr><td style="width:33%">Last Name</td><td><a href="#" id="Contact_last_name" data-name="last_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+d.last_name+'" title="Last Name" class="contact-editable">'+d.last_name+"</a></td></tr>";h+='<tr><td style="width:33%">Active</td><td><a href="#" id="Contact_active" data-name="active" data-type="select" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+d.active+'" title="Contact Status" class="contact-editable">';if(d.active==1){h+="Active</a></td></tr>"}else{h+="Inactive</a></td></tr>"}h+="</tbody></table>";h+='<strong>Email & Phone</strong><br /><table class="table table-condensed table-information"><tbody>';h+='<tr><td style="width:33%">E-mail</td><td><a href="#" id="Contact_email" data-name="email" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+d.email+'" title="E-mail Address" class="contact-editable">'+d.email+"</a></td></tr>";h+='<tr><td style="width:33%">Phone</td><td><a href="#" id="Contact_phone" data-name="phone" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+d.phone+'" title="Ten digit phone number" class="contact-editable">'+d.phone+"</a></td></tr>";h+='<tr><td style="width:33%">Extension</td><td><a href="#" id="Contact_ext" data-name="ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+(d.ext?d.ext:"")+'" title="Phone extension" class="contact-editable">'+(d.ext?d.ext:"")+"</a></td></tr>";h+='<tr><td style="width:33%">Fax</td><td><a href="#" id="Contact_fax" data-name="fax" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+(d.fax?d.fax:"")+'" title="Ten digit fax number" class="contact-editable">'+(d.fax?d.fax:"")+"</a></td></tr>";h+='<tr><td style="width:33%">Fax Extension</td><td><a href="#" id="Contact_fax_ext" data-name="fax_ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-pk="'+d.id+'" data-value="'+(d.fax_ext?d.fax_ext:"")+'" title="Fax extension" class="contact-editable">'+(d.fax_ext?d.fax_ext:"")+"</a></td></tr></tbody></table>";var e=a('<div id="contactDetails">'+h+"</div>");e.hide();f.fadeOut(500,function(){f.parent().prepend(e);c.setupContactEditables(i);e.fadeIn(500,function(){var k=a("#assignContactButton");var m=a("#unassignContactButton");var j=a("#newContactButton");var n=a("#deleteContactButton");var o=a("#availableContactsMSelect");var l=a("#assignedContactsMSelect");var p=a("#assignedContactsSelect");o.removeAttr("disabled");l.removeAttr("disabled");p.removeAttr("disabled");j.removeAttr("disabled");n.removeAttr("disabled");if(o.val()>0){k.removeAttr("disabled")}if(l.val()>0){m.removeAttr("disabled")}p.parent().find("#loading").remove();f.remove()})})};c.setupNewContactView=function(h){var e=a("#contactDetails");var f=a(".contact-editable");a("#Contact_phone").off("shown");a("#Contact_fax").off("shown");if(f.length>0){f.each(function(){a(this).editable("destroy")})}var g='<strong>Details</strong><br /><table class="table table-condensed table-information"><tbody>';g+='<tr><td style="width:33%">First Name</td><td><a href="#" id="Contact_first_name" data-name="first_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="First Name" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Last Name</td><td><a href="#" id="Contact_last_name" data-name="last_name" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="Last Name" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Active</td><td><a href="#" id="Contact_active" data-name="active" data-type="select" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-value="1"title="Contact Status" class="contact-editable">Active</a></td></tr>';g+="</tbody></table>";g+='<strong>Email & Phone</strong><br /><table class="table table-condensed table-information"><tbody>';g+='<tr><td style="width:33%">E-mail</td><td><a href="#" id="Contact_email" data-name="email" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="E-mail Address" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Phone</td><td><a href="#" id="Contact_phone" data-name="phone" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="Ten digit phone number" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Extension</td><td><a href="#" id="Contact_ext" data-name="ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="Phone extension" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Fax</td><td><a href="#" id="Contact_fax" data-name="fax" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="Ten digit fax number" class="contact-editable"></a></td></tr>';g+='<tr><td style="width:33%">Fax Extension</td><td><a href="#" id="Contact_fax_ext" data-name="fax_ext" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" title="Fax extension" class="contact-editable"></a></td></tr>';g+='<tr style="display:none;"><td>Output</td><td><a href="#" id="Contact_output" data-name="output" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-value="json" title="Output" class="contact-editable">json</a></td></tr>';g+='<tr style="display:none;"><td>Get Available</td><td><a href="#" id="Contact_get_available" data-name="get_available" data-type="text" data-mode="inline" data-url="'+c.endpoints.contact.updateRecord+'" data-value="1" title="Get Available" class="contact-editable">json</a></td></tr>';g+="</tbody></table>";var d=a('<div id="contactDetails">'+g+"</div>");d.hide();e.fadeOut(500,function(){e.parent().prepend(d);c.setupContactEditables(h);a("#Contact_get_available").editable({params:h});a("#Contact_output").editable({params:h});d.fadeIn(500,function(){var i=a("#assignContactButton");var l=a("#unassignContactButton");var m=a("#saveContactButton");var j=a("#cancelContactButton");var n=a("#availableContactsMSelect");var k=a("#assignedContactsMSelect");n.removeAttr("disabled");k.removeAttr("disabled");m.removeAttr("disabled").show(250);j.removeAttr("disabled").show(250);if(n.val()>0){i.removeAttr("disabled")}if(k.val()>0){l.removeAttr("disabled")}e.remove()})})};c.loadArenaList=function(d,f){if(f==="undefined"||f.length==="undefined"||f.length<=0){return}for(var e=0;e<f.length;e++){var h=f[e].id;var g=f[e].name+", "+f[e].city+", "+f[e].state+" "+f[e].zip+" ("+f[e].status+")";d.append('<option value="'+h+'">'+g+"</option>")}};c.resetArenaLists=function(){var d=a("#assignContactButton");var f=a("#unassignContactButton");var g=a("#availableContactsMSelect");var e=a("#assignedContactsMSelect");g.val("");g.empty();d.attr("disabled","disabled");e.val("");e.empty();f.attr("disabled","disabled")};c.resetContactView=function(){var f=a("#contactDetails");var h=a(".contact-editable");var d=a("#newContactButton");var g=a("#deleteContactButton");var i=a("#saveContactButton");var e=a("#cancelContactButton");var j=a("#assignedContactsSelect");d.attr("disabled","disabled");g.attr("disabled","disabled");i.attr("disabled","disabled").hide();e.attr("disabled","disabled").hide();a("#Contact_phone").off("shown");a("#Contact_fax").off("shown");if(h.length>0){h.each(function(){a(this).editable("destroy")})}f.fadeOut(500,function(){f.empty();f.fadeIn(500,function(){d.removeAttr("disabled");j.removeAttr("disabled")})})};c.loadContact=function(f){var g=a("#assignContactButton");var n=a("#unassignContactButton");var m=a("#newContactButton");var e=a("#deleteContactButton");var h=a("#saveContactButton");var i=a("#cancelContactButton");var d=a("#availableContactsMSelect");var k=a("#assignedContactsMSelect");var l=a("#assignedContactsSelect");var o='<div id="loading"><img src="'+utilities.urls.base+'/images/spinners/ajax-loader.gif" alt="Loading..." /></div>';g.attr("disabled","disabled");n.attr("disabled","disabled");m.attr("disabled","disabled");e.attr("disabled","disabled");h.attr("disabled","disabled").hide();i.attr("disabled","disabled").hide();d.attr("disabled","disabled");k.attr("disabled","disabled");l.attr("disabled","disabled");l.parent().append(o);var j={id:f,get_available:1,get_assigned:1,output:"json"};a.ajax({url:c.endpoints.contact.viewRecord,data:j,type:"GET",dataType:"json",success:function(p,q,r){if(p.error&&p.error==="LOGIN_REQUIRED"){window.setTimeout(function(){d.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");m.removeAttr("disabled");e.removeAttr("disabled");if(d.val()>0){g.removeAttr("disabled")}if(k.val()>0){n.removeAttr("disabled")}l.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to load the contact",r,"error","Login Required")},1000);return}j.output="html";if(p.data&&p.data.id!=="undefined"){c.setupContactView(p.data,j);c.resetArenaLists();if(p.availableArenas!=="undefined"){c.loadArenaList(d,p.availableArenas)}if(p.assignedArenas!=="undefined"){c.loadArenaList(k,p.assignedArenas)}}},error:function(r,p,q){d.removeAttr("disabled");k.removeAttr("disabled");l.removeAttr("disabled");m.removeAttr("disabled");e.removeAttr("disabled");if(d.val()>0){g.removeAttr("disabled")}if(k.val()>0){n.removeAttr("disabled")}l.parent().find("#loading").remove();utilities.ajaxError.show("Error","Failed to load the contact",r,p,q)}})};c.createDeleteModal=function(){var e='<div id="deleteModal" class="well"><h3>Are you sure you want to permanently delete this item?</h3><p class="lead text-error">This operation cannot be undone and will also delete this item from any related items. For example, deleting a location / venue will also delete any events associated with that location / venue.</p></div>';var d='<button class="btn btn-large btn-danger" data-dismiss="modal" type="button" aria-hidden="true" id="yes"><i class="fa fa-fw fa-lg fa-check"></i> Yes</button><button class="btn btn-large" data-dismiss="modal" type="button" aria-hidden="true" id="close"><i class="fa fa-fw fa-lg fa-times"></i> No</button>';return utilities.modal.add("Confirm Action",e,d,false,false)}}(window.contactManagementView=window.contactManagementView||{},jQuery));